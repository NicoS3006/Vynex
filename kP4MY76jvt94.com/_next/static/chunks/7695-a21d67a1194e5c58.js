"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7695],{63498:function(e,t,o){var a,n,r,l,i,s,u,c,p,d,f,m,N,b,O,y,T,S,h,v,g,E,I,C,L,R,A,D,x,P,w,_,U,B,j,M,k,F,G,z;o.d(t,{Bz:function(){return d},N5:function(){return T},PW:function(){return m},PY:function(){return l},Rz:function(){return u},Su:function(){return c},Y7:function(){return i},YT:function(){return r},aw:function(){return N},ce:function(){return b},d$:function(){return v},dA:function(){return a},dR:function(){return h},eN:function(){return S},hz:function(){return n},k1:function(){return O},ku:function(){return y},x:function(){return s}}),(g=a||(a={})).IN_PLANNING="in-planning",g.TO_RENOVATE="to-renovate",g.OLD="old",g.NEW="new",(E=n||(n={})).PITCHED="pitched",E.HIP="hip",E.TENT="tent",E.PENT="pent",E.FLAT="flat",(I=r||(r={})).FLAT="flat",I.LOW="low",I.NORMAL="normal",I.STEEP="steep",(C=l||(l={})).NO="no",C.SMALL="small",C.LARGE="large",(L=i||(i={})).NO="no",L.SMALL="small",L.LARGE="large",L.UNKNOWN="unknown",(R=s||(s={})).NO_PREFERENCE="no-preference",R.BLACK="black",R.RED="red",(A=u||(u={})).DETACHED="detached",A.SEMI_DETACHED="semi-detached",A.MULTI_FAMILY="multi-family",A.TOWNHOUSE="townhouse",A.NON_RESIDENTIAL="non-residential",(D=c||(c={})).COMMERCIAL="commercial",D.MUNICIPAL="municipal",D.CASTLE="castle",D.CHURCH="church",(x=p||(p={})).DRYER="dryer",x.FREEZER="freezer",x.WATER_BED="water-bed",x.AIR_CONDITIONING="air-conditioning",x.SAUNA="sauna",x.POOL="pool",(P=d||(d={})).ONE="1",P.TWO="2",P.THREE="3",P.FOUR="4",P.FIVE_AND_MORE="5",(w=f||(f={})).YES="yes",w.NO="no",w.ALREADY_OWN="already-own",(_=m||(m={})).YES="yes",_.NO="no",(U=N||(N={})).CLOSED="closed",U.OPEN="open",U.SEEN="seen",(B=b||(b={})).ADDRESS="address",B.BUTTON="button",B.TEXT_INPUT="textinput",B.ORIENTATION="orientation",(j=O||(O={})).TEXT="text",j.INT="int",j.DECIMAL="decimal",(M=y||(y={})).GENERAL="general",M.CONSUMPTION="consumption",M.ROOF="roof",M.RESULTS="results",(k=T||(T={}))[k.INIT=0]="INIT",k[k.IN_PROGRESS=1]="IN_PROGRESS",k[k.FETCHING=2]="FETCHING",k[k.RESULTS=3]="RESULTS",(F=S||(S={})).GO_BACK="goBack",F.CLOSE="close",F.RESET="reset",F.EDIT="edit",F.INIT_FORM="initForm",F.INIT_RESULTS="initResults",(G=h||(h={})).GO_BACK_MODAL="calcGoBackModalSeen",G.DATA="calcData",G.SAVE="calcSave",(z=v||(v={})).ROOFER="roofer",z.ELECTRICIAN="electrician",z.OTHER="other"},76469:function(e,t,o){o.d(t,{fW:function(){return f},M3:function(){return m},Cq:function(){return c},SOLAR_CONFIG:function(){return p},$:function(){return u},dB:function(){return A},EM:function(){return convertUserDataToFormData},a5:function(){return createConsultationPayload},_A:function(){return createConsultationStep1Payload},ie:function(){return createConsultationStep2Payload},Ri:function(){return createURL},Kt:function(){return R},to:function(){return getCategoryVariant},gl:function(){return getDetailsData},Ju:function(){return getFormDefaultValues},wi:function(){return getFormSavedData},Mi:function(){return getNextStepValue},t$:function(){return getPickedAnswer},mD:function(){return getPrevStepsFromUserData},nT:function(){return getResultCalculations},EJ:function(){return getSolarCalculatorData},Sl:function(){return getSolarCalculatorRoofOrientation},w6:function(){return getSolarCalculatorRoofOrientationSymbol},Ev:function(){return getSolarCalculatorStepName},$Q:function(){return getUpdatedDialogs},eq:function(){return isLocationObjectGuard},Fl:function(){return isTranslationObjectGuard},TP:function(){return isValidUuid},ov:function(){return listAssets},Dn:function(){return validateAnswer},ow:function(){return validateUserData}});var a=o(63498);let costRound=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return Math.ceil(e/t)*t},interpolate=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e+(t-e)/.05*(o-a)},getMonthlyData=(e,t,o,a,n)=>e.map((e,r)=>{var l;let{coverage:i,dailyFabrication:s,month:u,monthlyFabrication:c}=e,p=o&&a&&void 0!==n;return{coverage:(p?interpolate(i,o[r].coverage,a,n):i)*100,dailyDemand:(null===(l=t.find(e=>e.month===u))||void 0===l?void 0:l.dailyDemand)||0,dailyFabrication:p?interpolate(s,o[r].dailyFabrication,a,n):s,month:u,monthlyFabrication:p?interpolate(c,o[r].monthlyFabrication,a,n):c}}),getDataForTileColor=(e,t)=>Object.entries(e).reduce((e,o)=>{let[a,n]=o;return{...e,[a]:Array.isArray(n)?n.some(e=>{let{tileColor:t}=e;return t})?n.find(e=>{let{tileColor:o}=e;return o===t}).value:n.map(e=>getDataForTileColor(e,t)):"object"==typeof n?getDataForTileColor(n,t):n}},{}),getResultCalculations=e=>{var t,o,n;let{resultsData:r,userData:l,surfacePercent:i}=e,s=l.roof.color===a.x.RED?a.x.RED:a.x.BLACK,u=r.solarArea.maxSolarArea,c=getDataForTileColor(r,s),p=r.general.interpolationAnchors.includes(i),d={area:u,averageCoverage:0,electricityGeneration:0,electro:0,monthlyData:getMonthlyData(c.estimatedRadiation[0].monthlyData,c.powerDemand.monthlyData),nominalOutputPower:0,photovoltaic:0,roofTilesAmount:0};if(p){let e=c.estimatedRadiation.find(e=>{let{solarAreaRatio:t}=e;return t===i}),o=c.componentExpenses.find(e=>{let{solarAreaRatio:t}=e;return t===i});d.electricityGeneration=(null==e?void 0:e.yearlyElectricityGeneration)||0,d.nominalOutputPower=(null==e?void 0:e.nominalOutputPower)||0,d.averageCoverage=100*((null==e?void 0:e.yearlyCoverage)||0),d.roofTilesAmount=(null==e?void 0:e.tileCount)||0,d.electro=costRound((null==o?void 0:null===(t=o.electro.find(e=>{let{battery:t}=e;return t===a.PW.NO}))||void 0===t?void 0:t.value)||0,100),d.photovoltaic=costRound((null==o?void 0:o.photovoltaics)||0),d.monthlyData=(null==e?void 0:e.monthlyData)?getMonthlyData(e.monthlyData,r.powerDemand.monthlyData):d.monthlyData}else{let e=[...c.estimatedRadiation].reverse().find(e=>{let{solarAreaRatio:t}=e;return t<i}),t=c.estimatedRadiation.find(e=>{let{solarAreaRatio:t}=e;return t>i}),l=[...c.componentExpenses].reverse().find(e=>{let{solarAreaRatio:t}=e;return t<i}),s=c.componentExpenses.find(e=>{let{solarAreaRatio:t}=e;return t>i}),u=(null==e?void 0:e.solarAreaRatio)||0,p=[i,u];d.electricityGeneration=interpolate(null==e?void 0:e.yearlyElectricityGeneration,null==t?void 0:t.yearlyElectricityGeneration,...p),d.nominalOutputPower=interpolate(null==e?void 0:e.nominalOutputPower,null==t?void 0:t.nominalOutputPower,...p),d.averageCoverage=100*interpolate(null==e?void 0:e.yearlyCoverage,null==t?void 0:t.yearlyCoverage,...p),d.roofTilesAmount=interpolate(null==e?void 0:e.tileCount,null==t?void 0:t.tileCount,...p),d.electro=costRound(interpolate(null==l?void 0:null===(o=l.electro.find(e=>{let{battery:t}=e;return t===a.PW.NO}))||void 0===o?void 0:o.value,null==s?void 0:null===(n=s.electro.find(e=>{let{battery:t}=e;return t===a.PW.NO}))||void 0===n?void 0:n.value,...p),100),d.photovoltaic=costRound(interpolate(null==l?void 0:l.photovoltaics,null==s?void 0:s.photovoltaics,...p)),d.monthlyData=t?getMonthlyData((null==e?void 0:e.monthlyData)||Array(12).fill(0).map((e,t)=>({coverage:0,dailyFabrication:0,month:t+1,monthlyFabrication:0})),r.powerDemand.monthlyData,t.monthlyData,i,u):d.monthlyData}return d};var n=o(85893),r=o(40926),l=o(69452),i=o(52737),s=o(97380);let u="step",c={[a.ku.GENERAL]:{name:s.IN.solarCalculatorStepsCategoryGeneral,stepsCount:5},[a.ku.CONSUMPTION]:{name:s.IN.solarCalculatorStepsCategoryConsumption,stepsCount:[2,1]},[a.ku.ROOF]:{name:s.IN.solarCalculatorStepsCategoryRoof,stepsCount:6},[a.ku.RESULTS]:{name:s.IN.solarCalculatorStepsCategoryResults,stepsCount:1}},p=[{answers:[{label:s.IN.roofConditionStepOption1Label,type:a.ce.BUTTON,value:a.dA.IN_PLANNING},{label:s.IN.roofConditionStepOption2Label,type:a.ce.BUTTON,value:a.dA.TO_RENOVATE},{label:s.IN.roofConditionStepOption3Label,sublabel:s.IN.roofConditionStepOption3Sublabel,type:a.ce.BUTTON,value:a.dA.OLD},{label:s.IN.roofConditionStepOption4Label,sublabel:s.IN.roofConditionStepOption4Sublabel,toast:[{text:s.IN.roofConditionStepOption4Toast}],type:a.ce.BUTTON,value:a.dA.NEW}],category:c[a.ku.GENERAL],fieldName:"roof.condition",image:"/static/solar-calculator/step1.webp",step:1,title:s.IN.roofConditionStepTitle},{answers:[{label:s.IN.houseTypeStepOption1Label,nextStep:3,type:a.ce.BUTTON,value:a.Rz.DETACHED},{label:s.IN.houseTypeStepOption2Label,nextStep:3,type:a.ce.BUTTON,value:a.Rz.SEMI_DETACHED},{label:s.IN.houseTypeStepOption3Label,nextStep:3,type:a.ce.BUTTON,value:a.Rz.TOWNHOUSE},{label:s.IN.houseTypeStepOption4Label,nextStep:3,type:a.ce.BUTTON,value:a.Rz.MULTI_FAMILY},{label:s.IN.houseTypeStepOption5Label,type:a.ce.BUTTON,value:a.Rz.NON_RESIDENTIAL}],category:c[a.ku.GENERAL],fieldName:"house.type",image:"/static/solar-calculator/step1.webp",step:2,title:s.IN.houseTypeStepTitle},{answers:[{label:s.IN.houseSpecificTypeStepOption1Label,type:a.ce.BUTTON,value:a.Su.COMMERCIAL},{label:s.IN.houseSpecificTypeStepOption2Label,type:a.ce.BUTTON,value:a.Su.MUNICIPAL},{label:s.IN.houseSpecificTypeStepOption3Label,type:a.ce.BUTTON,value:a.Su.CASTLE},{label:s.IN.houseSpecificTypeStepOption4Label,type:a.ce.BUTTON,value:a.Su.CHURCH}],category:c[a.ku.GENERAL],fieldName:"house.specificType",image:"/static/solar-calculator/step1.webp",step:2,title:s.IN.houseSpecificTypeStepTitle},{answers:[{label:s.IN.houseIsListedStepOption1Label,type:a.ce.BUTTON,value:"true"},{label:s.IN.houseIsListedStepOption2Label,type:a.ce.BUTTON,value:"false"}],category:c[a.ku.GENERAL],fieldName:"house.isListed",image:"/static/solar-calculator/step1.webp",step:3,title:s.IN.houseIsListedStepTitle},{answers:[{inputMode:"numeric",inputType:a.k1.INT,label:s.IN.roofAreaStepOption1Label,nextStep:6,suffix:(0,n.jsxs)(n.Fragment,{children:["m",(0,n.jsx)("sup",{children:"2"})]}),toast:[{text:s.IN.roofAreaStepOption1Toast,validation:{max:{value:33}}},{text:s.IN.roofAreaStepOption1Toast2,validation:{min:{value:501}}}],type:a.ce.TEXT_INPUT,validation:{errorMessage:s.IN.roofAreaStepErrorMessage,min:{value:1}}},{label:s.IN.roofAreaStepOption2Label,type:a.ce.BUTTON,value:"unknownRoofArea"}],category:c[a.ku.GENERAL],fieldName:"roof.area",image:"/static/solar-calculator/step1.webp",step:4,title:s.IN.roofAreaStepTitle},{answers:[{inputMode:"numeric",inputType:a.k1.INT,label:s.IN.houseAreaStepOption1Label,suffix:(0,n.jsxs)(n.Fragment,{children:["m",(0,n.jsx)("sup",{children:"2"})]}),toast:[{text:s.IN.houseAreaStepOption1Toast,validation:{max:{value:33}}},{text:s.IN.houseAreaStepOption1Toast2,validation:{min:{value:385}}}],type:a.ce.TEXT_INPUT,validation:{errorMessage:s.IN.houseAreaStepErrorMessage,min:{value:1}}}],category:c[a.ku.GENERAL],fieldName:"house.area",image:"/static/solar-calculator/step1.webp",step:4,title:s.IN.houseAreaStepTitle},{answers:[{type:a.ce.ADDRESS}],category:c[a.ku.GENERAL],extra:[{position:"bottom",text:s.IN.locationStepExtra1},{isLarge:!0,position:"top",text:s.IN.locationStepExtra2}],fieldName:"location",image:"/static/solar-calculator/step1.webp",isOnlineRequired:!0,step:5,title:s.IN.locationStepTitle},{answers:[{iconName:l.hR.USER,label:s.IN.consumptionPeopleStepOption1Label,type:a.ce.BUTTON,value:a.Bz.ONE},{iconName:l.hR.USERS2,label:s.IN.consumptionPeopleStepOption2Label,type:a.ce.BUTTON,value:a.Bz.TWO},{iconName:l.hR.USERS3,label:s.IN.consumptionPeopleStepOption3Label,type:a.ce.BUTTON,value:a.Bz.THREE},{iconName:l.hR.USERS4,label:s.IN.consumptionPeopleStepOption4Label,type:a.ce.BUTTON,value:a.Bz.FOUR},{iconName:l.hR.USERS5,label:s.IN.consumptionPeopleStepOption5Label,type:a.ce.BUTTON,value:a.Bz.FIVE_AND_MORE}],category:c[a.ku.CONSUMPTION],fieldName:"consumption.people",hideWhen:{field:"step1.house.type",value:["non-residential"]},image:"/static/solar-calculator/step2.webp",step:1,title:s.IN.consumptionPeopleStepTitle},{answers:[{inputMode:"numeric",inputType:a.k1.INT,label:s.IN.consumptionYearlyStepOption1Label,suffix:s.IN.consumptionYearlyStepOption1Sufix,type:a.ce.TEXT_INPUT,validation:{errorMessage:s.IN.consumptionYearlyStepErrorMessage,max:{value:1e6},min:{value:1500}}},{label:s.IN.consumptionYearlyStepOption2Label,type:a.ce.BUTTON,value:"unknownYearlyConsumption"}],category:c[a.ku.CONSUMPTION],fieldName:"consumption.yearly",image:"/static/solar-calculator/step2.webp",step:[2,1],title:s.IN.consumptionYearlyStepTitle},{answers:[{iconName:l.hR.ROOF_PITCHED,label:s.IN.roofTypeStepOption1Label,type:a.ce.BUTTON,value:a.hz.PITCHED},{iconName:l.hR.ROOF_HIP,label:s.IN.roofTypeStepOption2Label,type:a.ce.BUTTON,value:a.hz.HIP},{iconName:l.hR.ROOF_TENT,label:s.IN.roofTypeStepOption3Label,type:a.ce.BUTTON,value:a.hz.TENT},{iconName:l.hR.ROOF_PENT,label:s.IN.roofTypeStepOption4Label,type:a.ce.BUTTON,value:a.hz.PENT},{iconName:l.hR.ROOF_FLAT,label:s.IN.roofTypeStepOption5Label,toast:[{text:s.IN.roofTypeStepOption5LabelToast}],type:a.ce.BUTTON,value:a.hz.FLAT}],category:c[a.ku.ROOF],fieldName:"roof.type",image:"/static/solar-calculator/step3.webp",step:1,title:s.IN.roofTypeStepTitle},{additionalImage:"/static/solar-calculator/top-hip.svg",answers:[{type:a.ce.ORIENTATION}],category:c[a.ku.ROOF],defaultValue:0,extra:[{position:"top",text:s.IN.roofOrientationStepExtra}],fieldName:"roof.orientation",image:"/static/solar-calculator/step3.webp",step:2,title:s.IN.roofOrientationStepTitle},{answers:[{iconName:l.hR.ANGLE_FLAT,label:s.IN.roofPitchStepOption1Label,toast:[{text:s.IN.roofPitchStepOption1Toast}],type:a.ce.BUTTON,value:a.YT.FLAT},{iconName:l.hR.ANGLE_SMALL,label:s.IN.roofPitchStepOption2Label,type:a.ce.BUTTON,value:a.YT.LOW},{iconName:l.hR.ANGLE_NORMAL,label:s.IN.roofPitchStepOption3Label,type:a.ce.BUTTON,value:a.YT.NORMAL},{iconName:l.hR.ANGLE_STEEP,label:s.IN.roofPitchStepOption4Label,type:a.ce.BUTTON,value:a.YT.STEEP},{inputMode:"numeric",inputType:a.k1.INT,label:s.IN.roofPitchStepOption5Label,suffix:s.IN.roofPitchStepOption5Sufix,toast:[{text:s.IN.roofPitchStepOption1Toast,validation:{max:{value:14},min:{value:1}}}],type:a.ce.TEXT_INPUT,validation:{errorMessage:s.IN.roofPitchStepErrorMessage,max:{value:90},min:{value:1}}}],category:c[a.ku.ROOF],fieldName:"roof.pitch",image:"/static/solar-calculator/step3.webp",step:3,title:s.IN.roofPitchStepTitle},{answers:[{label:s.IN.roofSuperstructuresStepOption1Label,type:a.ce.BUTTON,value:a.PY.NO},{label:s.IN.roofSuperstructuresStepOption2Label,sublabel:s.IN.roofSuperstructuresStepOption2Sublabel,type:a.ce.BUTTON,value:a.PY.SMALL},{label:s.IN.roofSuperstructuresStepOption3Label,sublabel:s.IN.roofSuperstructuresStepOption3Sublabel,type:a.ce.BUTTON,value:a.PY.LARGE}],category:c[a.ku.ROOF],fieldName:"roof.superstructures",image:"/static/solar-calculator/step3.webp",step:4,title:s.IN.roofSuperstructuresStepTitle},{answers:[{label:s.IN.roofShadowsStepOption1Label,type:a.ce.BUTTON,value:a.Y7.NO},{label:s.IN.roofShadowsStepOption2Label,sublabel:s.IN.roofShadowsStepOption2Sublabel,type:a.ce.BUTTON,value:a.Y7.SMALL},{label:s.IN.roofShadowsStepOption3Label,sublabel:s.IN.roofShadowsStepOption3Sublabel,type:a.ce.BUTTON,value:a.Y7.LARGE},{label:s.IN.roofShadowsStepOption4Label,type:a.ce.BUTTON,value:a.Y7.UNKNOWN}],category:c[a.ku.ROOF],fieldName:"roof.shadows",image:"/static/solar-calculator/step3.webp",step:5,title:s.IN.roofShadowsStepTitle},{answers:[{color:r.xj.NONE,label:s.IN.roofColorStepOption1Label,type:a.ce.BUTTON,value:a.x.NO_PREFERENCE},{color:r.xj.ANTHRACITE,label:s.IN.roofColorStepOption2Label,type:a.ce.BUTTON,value:a.x.BLACK},{color:r.xj.MAROON,label:s.IN.roofColorStepOption3Label,type:a.ce.BUTTON,value:a.x.RED}],category:c[a.ku.ROOF],extra:[{text:s.IN.roofColorStepExtraText}],fieldName:"roof.color",image:"/static/solar-calculator/step3.webp",isOnlineRequired:!0,step:6,title:s.IN.roofColorStepTitle}],d=[{tileColor:a.x.BLACK,value:3e3},{tileColor:a.x.RED,value:3e3}],f={componentExpenses:Array(20).fill(0).map((e,t)=>({currency:"EUR",electro:[{battery:a.PW.YES,value:3e3},{battery:a.PW.NO,value:3e3}],photovoltaics:d,solarAreaRatio:.05*(t+1)})),configurationHints:{ratiosFor100PercentCoverageWithoutNorthRoofs:[{tileColor:"black",value:.04},{tileColor:"red",value:.06}],recommendedSolarAreaRatio:.8},estimatedRadiation:Array(20).fill(0).map((e,t)=>({monthlyData:Array(12).fill(0).map((e,t)=>({coverage:d,dailyFabrication:d,month:t+1,monthlyFabrication:d})),nominalOutputPower:d,solarAreaRatio:.05*(t+1),tileCount:(0,i.vd)(200,400),yearlyCoverage:d,yearlyElectricityGeneration:d})),general:{annualDemand:1567,interpolationAnchors:Array(20).fill(0).map((e,t)=>.05*(t+1)),suitable:!0,surveyID:4760418},powerDemand:{monthlyData:Array(12).fill(0).map((e,t)=>({dailyDemand:(0,i.vd)(50,70),month:t+1}))},solarArea:{blackTilePeakPower:10,maxSolarArea:(0,i.vd)(200,300),redTilePeakPower:8,tileCountPerSquareMeter:12}},m={consumption:{additional:null,people:a.Bz.TWO,yearly:2e4},house:{area:40,isListed:!0,specificType:null,type:a.Rz.DETACHED},location:{city:"PoznaÅ„",lat:51.8944397,lng:13.2001266},requestOptions:{test:!0},roof:{area:400,color:a.x.BLACK,condition:a.dA.IN_PLANNING,orientation:-90,pitch:a.YT.NORMAL,shadows:a.Y7.NO,superstructures:a.PY.NO,type:a.hz.PITCHED}};var N=o(72378),b=o.n(N),O=o(70594),y=o(29208),T=o.n(y),S=o(31468),h=o.n(S),v=o(17473),g=o(56645),E=o(53276),I=o(34155);let C="https://configurator-api.autarq.net",L="https://a.klaviyo.com/api",R="true"===I.env.NEXT_PUBLIC_CALCULATOR_USE_DUMMY,getSolarCalculatorStepName=e=>"".concat(u).concat(e),getSolarCalculatorRoofOrientation=e=>e>180?e-360:e,getSolarCalculatorRoofOrientationSymbol=e=>{let t=[{max:22.5,min:-22.5,symbol:"resultsCardDetailsSouthDirection"},{max:67.5,min:22.5,symbol:"resultsCardDetailsSouthWestDirection"},{max:112.5,min:67.5,symbol:"resultsCardDetailsWestDirection"},{max:157.5,min:112.5,symbol:"resultsCardDetailsNorthWestDirection"},{max:181,min:157.5,symbol:"resultsCardDetailsNorthDirection"},{max:-157.5,min:-181,symbol:"resultsCardDetailsNorthDirection"},{max:-112.5,min:-157.5,symbol:"resultsCardDetailsNorthEastDirection"},{max:-67.5,min:-112.5,symbol:"resultsCardDetailsEastDirection"},{max:-22.5,min:-67.5,symbol:"resultsCardDetailsSouthEastDirection"}].find(t=>{let{min:o,max:a}=t;return e>=o&&e<a});return(null==t?void 0:t.symbol)||"resultsCardDetailsNotSpecified"},getSolarCalculatorData=e=>{let t=Object.values(e).reduce((e,t)=>(b()(e,t),e),{});return{...t,consumption:{additional:null,people:null,...t.consumption},house:{area:null,specificType:null,...t.house},location:{...t.location},requestOptions:{test:!0},roof:{...t.roof,orientation:getSolarCalculatorRoofOrientation(t.roof.orientation)}}},convertUserDataToFormData=e=>p.reduce((t,o,a)=>{let{fieldName:n}=o,r=T()(e,n),l=n.split(".");return null===r?t:{...t,["step".concat(a)]:{[l[0]]:l[1]?{[l[1]]:r}:r}}},{}),getPickedAnswer=(e,t)=>e.reduce((e,o)=>(!("value"in o)||o.value!==t)&&("value"in o||e)?e:o,void 0),isTranslationObjectGuard=e=>!!(e&&"object"==typeof e&&"id"in e),isLocationObjectGuard=e=>!!(e&&"object"==typeof e&&"city"in e),A=O.Z.create({baseURL:C.endsWith("/")?C:"".concat(C,"/")});O.Z.create({baseURL:L.endsWith("/")?L:"".concat(L,"/"),headers:{Authorization:"Klaviyo-API-Key ".concat("pk_6aa5552846abf39b6fa67eb80ad9b12348"),accept:"application/json","content-type":"application/json",revision:"2024-02-15"}});let validateUserData=(e,t)=>{let o="number"==typeof e.roof.pitch?e.roof.pitch<15:e.roof.pitch===a.YT.FLAT,n="number"==typeof e.roof.area?e.roof.area<34:t.solarArea.maxSolarArea<34,r=e.roof.condition===a.dA.NEW;return{isInvalid:o||n||r,isRoofTooFlat:o,isRoofTooNew:r,isRoofTooSmall:n}},getRoofTypeTranslation=e=>{switch(e){case a.hz.PITCHED:return"roofTypeStepOption1Label";case a.hz.HIP:return"roofTypeStepOption2Label";case a.hz.TENT:return"roofTypeStepOption3Label";case a.hz.PENT:return"roofTypeStepOption4Label";default:return"roofTypeStepOption5Label"}},getPitchTranslation=e=>{switch(e){case a.YT.FLAT:return"roofPitchStepOption1Label";case a.YT.LOW:return"roofPitchStepOption2Label";case a.YT.NORMAL:return"roofPitchStepOption3Label";default:return"roofPitchStepOption4Label"}},getStructuresTranslation=e=>{switch(e){case a.PY.NO:return"resultsCardDetailsSuperstructuresNo";case a.PY.SMALL:return"resultsCardDetailsSuperstructuresSmall";default:return"resultsCardDetailsSuperstructuresLarge"}},getShadingTranslation=e=>{switch(e){case a.Y7.NO:return"resultsCardDetailsRoofShadowsNo";case a.Y7.SMALL:return"resultsCardDetailsRoofShadowsSmall";case a.Y7.LARGE:return"resultsCardDetailsRoofShadowsLarge";default:return"resultsCardDetailsRoofShadowsUnknown"}},getColorTranslation=e=>{switch(e){case a.x.NO_PREFERENCE:return"resultsCardDetailsRoofColorNo";case a.x.BLACK:return"resultsCardDetailsRoofColorBlack";default:return"resultsCardDetailsRoofColorRed"}},getDetailsData=(e,t,o,a,n,r)=>({costEstimateInformation:[{isFullWidth:!0,value:"resultsCardCostsPriceZeroInstallation"},{label:s.IN.resultsCardCostsPhotovoltaicTitle,value:"\xb1 ".concat(n," EUR")},{label:s.IN.resultsCardCostsIncludingTitle,value:"resultsCardCostsPhotovoltaicItems"}],powerCoverageInformation:[{label:s.IN.resultsCardYieldOutputLabel,value:"".concat(null==a?void 0:a.toFixed(2)," kWp")},{label:s.IN.resultsCardYieldGenerationLabel,value:"\xb1 ".concat(null==t?void 0:t.toFixed(2)," kWh/year*")},{label:s.IN.resultsCardYieldNeedsLabel,value:"\xb1 ".concat(o," kWh/year*")}],solarSurfaceInformation:[{label:s.IN.resultsCardDetailsRoofShapeLabel,step:9,value:getRoofTypeTranslation(r.roof.type)},{label:s.IN.resultsCardDetailsRoofOrientationLabel,step:10,value:getSolarCalculatorRoofOrientationSymbol(r.roof.orientation)},{label:s.IN.resultsCardDetailsRoofPitchLabel,step:11,value:"string"==typeof r.roof.pitch?getPitchTranslation(r.roof.pitch):"".concat(r.roof.pitch,"\xb0")},{label:s.IN.resultsCardDetailsRoofStructuresLabel,step:12,value:getStructuresTranslation(r.roof.superstructures)},{label:s.IN.resultsCardDetailsRoofShadingLabel,step:13,value:getShadingTranslation(r.roof.shadows)},{label:s.IN.resultsCardDetailsRoofColorLabel,step:14,value:getColorTranslation(r.roof.color)}]}),createConsultationPayload=(e,t,o,n,r,l,i)=>({availability:e.availability,buildingAddress:{city:e.city,country:e.country,street:e.street,streetNumber:e.streetNumber,zip:e.zip},desiredDateOfInstallation:e.desiredDateOfInstallation,electric:{batterySelected:l},electricianPresent:e.electricianPresent,foreName:e.foreName,language:i,lastName:e.lastName,mail:e.mail,message:e.message,phone:e.phonePrefix+e.phoneNumber,physicalAddress:e.sameAddress?void 0:{city:e.cityResidential,country:e.countryResidential,street:e.streetResidential,streetNumber:e.streetNumberResidential,zip:e.zipResidential},physicalAddressDeviates:!e.sameAddress,privacyStatementAccepted:e.privacyStatementAccepted,requestOptions:{test:g.bz},roof:{coveredArea:r,tileColor:n||a.x.BLACK},rooferPresent:e.rooferPresent,salutation:e.salutation,surveyID:+o,title:e.title,typeOfCustomer:e.typeOfCustomer,...t?{iframeID:t}:{}}),createConsultationStep1Payload=(e,t,o,n,r,l,i,s,u)=>({availability:e.availability,desiredDateOfInstallation:e.desiredDateOfInstallation,electric:{battery:l,dynamicTariff:i,wallbox:s},foreName:e.foreName,language:u,lastName:e.lastName,mail:e.mail,message:e.message,phone:e.phonePrefix+e.phoneNumber,privacyStatementAccepted:e.privacyStatementAccepted,requestOptions:{test:!1},roof:{coveredArea:r,tileColor:n||a.x.BLACK},salutation:e.salutation,surveyID:+o,title:e.title,typeOfCustomer:e.typeOfCustomer,...t?{iframeID:t}:{}}),createConsultationStep2Payload=(e,t,o,n,r,l)=>({buildingAddress:e.country?{city:e.city,country:e.country,street:e.street,streetNumber:e.streetNumber,zip:e.zip}:void 0,electricianPresent:e.electricianPresent,language:l,message:e.message,physicalAddress:e.sameAddress?void 0:{city:e.cityResidential,country:e.countryResidential,street:e.streetResidential,streetNumber:e.streetNumberResidential,zip:e.zipResidential},physicalAddressDeviates:!e.sameAddress,privacyStatementAccepted:e.privacyStatementAccepted,requestOptions:{test:g.bz},roof:{coveredArea:r,tileColor:n||a.x.BLACK},rooferPresent:e.rooferPresent,surveyID:+o,...t?{iframeID:t}:{}}),createURL=(e,t,o)=>{let a="".concat(e);return Object.entries(t).forEach((e,t)=>{let[o,n]=e;null!==n&&(a+=(0===t?"?":"&")+"".concat(o,"=").concat(encodeURIComponent(n)))}),o&&(a+=o),a},getCategoryVariant=(e,t)=>{let{category:o,step:a}=p[t];if(Array.isArray(o.stepsCount)){if(Array.isArray(a)){let{hideWhen:n}=p[t-1];if(n){let t=T()(e,n.field);return n.value.includes(t)?{category:{...o,stepsCount:o.stepsCount[1]},step:a[1]}:{category:{...o,stepsCount:o.stepsCount[0]},step:a[0]}}}return{category:{...o,stepsCount:o.stepsCount[0]},step:a}}return{category:o,step:a}},getFormSavedData=()=>(0,v.LP)(localStorage.getItem("calcData")),getFormDefaultValues=(e,t,o,a)=>{if(e[t])return e[t];if(void 0!==a){let e={};return h()(e,o,a),e}},listAssets=e=>Object.values(e).reduce((e,t)=>(t.image&&e.push(t.image),t.additionalImage&&e.push(t.additionalImage),t.answers.forEach(t=>{"iconName"in t&&t.iconName&&e.push("/static/solar-calculator/icons/".concat(t.iconName,".svg"))}),[...new Set(e)]),[]),getNextStepValue=(e,t,o)=>{let a="number"==typeof e?e:t+1,{displayWhen:n,hideWhen:r}=p[a];if(n){let e=T()(o,n.field);n.value.includes(e)||(a+=1)}else if(r){let e=T()(o,r.field);r.value.includes(e)&&(a+=1)}return a},getUpdatedDialogs=(e,t,o)=>{let a=new Map(e);return a.set(t,o),a},isValidUuid=e=>E.k1.test(e),getPrevStepsFromUserData=(e,t)=>{let o=[0,1,3,4,6,7,8,9,10,11,12,13,14];return void 0===e.roof.area&&o.push(5),o.filter(e=>e<t).sort((e,t)=>t-e)};var D=o(74231);let validateAnswer=async(e,t,o)=>{if(void 0!==t.min){let{min:{value:a},errorMessage:n}=t,r=(0,D.Rx)().typeError(o(n||s.tj.invalidNumber)).min(a,n?o(n):void 0);await r.validate(e)}if(void 0!==t.max){let{max:{value:a},errorMessage:n}=t,r=(0,D.Rx)().typeError(o(n||s.tj.invalidNumber)).max(a,n?o(n):void 0);await r.validate(e)}}},40926:function(e,t,o){o.d(t,{yp:function(){return ColorSelection},xj:function(){return r},GF:function(){return l},DR:function(){return N},m4:function(){return O}});var a,n,r,l,i=o(85893),s=o(67294),u=o(18618),c=o.n(u),p=o(82729),d=o(68777),f=o(99256);function _templateObject(){let e=(0,p._)(["\n  --box-size: ",";\n  ",";\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0;\n  padding-left: 0;\n  list-style: none;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,p._)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: var(--box-size);\n  height: var(--box-size);\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,p._)(["\n          border: 1px solid ",";\n\n          &::after {\n            content: '';\n            position: absolute;\n            top: 50%;\n            left: 0;\n            width: 100%;\n            height: 1px;\n            background-color: ",";\n            transform: rotate(-45deg);\n          }\n        "]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,p._)(["\n          &::after {\n            content: '';\n            position: absolute;\n            top: 50%;\n            left: 0;\n            display: block;\n            width: 100%;\n            height: 50%;\n            background-color: #fff;\n            opacity: 0.18;\n            transform: rotate(-45deg);\n            transform-origin: 50% top;\n          }\n        "]);return _templateObject3=function(){return e},e}function _templateObject4(){let e=(0,p._)(["\n  position: ",";\n  z-index: 0;\n  width: ","px;\n  height: ","px;\n  border-radius: 50%;\n  background-color: ",";\n\n  ",";"]);return _templateObject4=function(){return e},e}function _templateObject5(){let e=(0,p._)(["\n  --border-color: ",";\n  appearance: none;\n  position: absolute;\n  z-index: 1;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  box-shadow: inset 0 0 0 var(--border-color);\n  margin: 0;\n  outline: none;\n  border-radius: 50%;\n  padding: 0;\n  transition: box-shadow 0.2s;\n  cursor: pointer;\n\n  &:hover {\n    box-shadow: inset 0 0 0 4px var(--border-color);\n  }\n\n  &:active {\n    --border-color: ",";\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    display: block;\n    width: 6px;\n    height: 6px;\n    border-radius: 50%;\n    background-color: #fff;\n    transition: transform 0.2s;\n    transform: translate(-50%, -50%) scale(0);\n  }\n\n  &:checked {\n    &::before {\n      transform: translate(-50%, -50%) scale(1);\n    }\n  }\n\n  &:focus-visible {\n    &::after {\n      content: '';\n      position: absolute;\n      inset: 0;\n      z-index: 0;\n      display: block;\n      border: 2px solid #454C51;\n      border-radius: 50%;\n    }\n  }\n\n  &[disabled] {\n    opacity: 0.4;\n    pointer-events: none;\n  }\n"]);return _templateObject5=function(){return e},e}(a=r||(r={})).BLACK_GLAZE="blackGlaze",a.BLACK_MATTE="blackMatte",a.BLACK_ENGOBE="blackEngobe",a.GRAY_GLAZE="grayGlaze",a.SPACE_GRAY_ENGOBE="spaceGrayEngobe",a.ANTHRACITE="anthracite",a.MAROON="maroon",a.NONE="none",(n=l||(l={}))[n.SMALL=14]="SMALL",n[n.MEDIUM=20]="MEDIUM",n[n.LARGE=32]="LARGE";let m={anthracite:"#2B2B2B",blackEngobe:"#444444",blackGlaze:"#000",blackMatte:f.ColorInkDefault,grayGlaze:f.ColorBrandMidGrey,maroon:"#DA8254",none:f.ColorBrandPaleGrey,spaceGrayEngobe:"#2B2B2B"},N=d.ZP.ul.withConfig({componentId:"sc-6b86bd0a-0"})(_templateObject(),e=>{let{size:t}=e;return t===l.SMALL?"22px":"28px"},e=>{let{size:t}=e;return t===l.LARGE&&"gap: 16px"}),b=d.ZP.li.withConfig({componentId:"sc-6b86bd0a-1"})(_templateObject1()),O=d.ZP.div.withConfig({componentId:"sc-6b86bd0a-2"})(_templateObject4(),e=>{let{isStandalone:t}=e;return t?"relative":"absolute"},e=>{let{size:t}=e;return t},e=>{let{size:t}=e;return t},e=>{let{color:t}=e;return m[t]},e=>{let{color:t,theme:{ColorBrandLightGrey:o}}=e;switch(t){case r.BLACK_MATTE:return"";case r.NONE:return(0,d.iv)(_templateObject2(),o,o);default:return(0,d.iv)(_templateObject3())}}),y=d.ZP.input.withConfig({componentId:"sc-6b86bd0a-3"})(_templateObject5(),e=>{let{theme:{ColorFillActionQuietHover:t}}=e;return t},e=>{let{theme:{ColorFillActionQuietPressed:t}}=e;return t}),ColorSelection=e=>{let{id:t,colors:o,size:a=l.MEDIUM,disabled:n,selectedColor:r,onChange:u}=e,p=(0,s.useMemo)(()=>c()(o,"colorName"),[o]);return(0,i.jsx)(N,{size:a,children:p.map(e=>{let{colorName:o,label:l}=e;return(0,i.jsxs)(b,{children:[(0,i.jsx)(O,{color:o,size:a}),(0,i.jsx)(y,{type:"radio",name:"color-selection-".concat(t),color:o,value:o,"aria-label":l||o,disabled:n,onChange:u,checked:r===o})]},o)})})}},5565:function(e,t,o){var a,n;o.d(t,{x:function(){return a}}),(n=a||(a={})).YELLOW="yellow",n.BLACK="black"},14362:function(e,t,o){o.d(t,{Ee:function(){return N}});var a=o(85893),n=o(67294),r=o(9008),l=o.n(r),i=o(68417),s=o(17473),u=o(82729),c=o(68777),p=o(5565);function _templateObject(){let e=(0,u._)(["\n  0% {\n    background-position: 100% 0%;\n  }\n  100% {\n    background-position: 0% 100%;\n  }\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,u._)(["\n  margin: 0;\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,u._)(["\n      background: linear-gradient(to right, ",");\n      background-size: 400% 200%;\n      animation: "," 2s infinite;\n    "]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,u._)(["\n    aspect-ratio: ",";\n  "]);return _templateObject3=function(){return e},e}function _templateObject4(){let e=(0,u._)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n  "]);return _templateObject4=function(){return e},e}function _templateObject5(){let e=(0,u._)(["\n    border-radius: ","px;\n  "]);return _templateObject5=function(){return e},e}function _templateObject6(){let e=(0,u._)(["\n  display: block;\n  width: ",";\n  height: ",";\n  object-fit: cover;\n  object-position: center center;\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n"]);return _templateObject6=function(){return e},e}let d=(0,c.F4)(_templateObject()),f=c.ZP.figure.withConfig({componentId:"sc-5d0cb03f-0"})(_templateObject1()),m=c.ZP.img.withConfig({componentId:"sc-5d0cb03f-1"})(_templateObject6(),e=>{let{width:t}=e;return t?"".concat(t,"px"):"100%"},e=>{let{height:t}=e;return t?"".concat(t,"px"):"auto"},e=>{let{placeholderVariant:t,showPlaceholder:o,theme:{ColorInkAccentOnActionPrimary:a,ColorInkSubdued:n,ColorFillActionAccentHover:r,ColorInkDefault:l}}=e,i="".concat(l," 30%, ").concat(n," 40%, ").concat(l," 50%"),s="".concat(r," 30%, ").concat(a," 40%, ").concat(r," 50%");return o&&(0,c.iv)(_templateObject2(),t===p.x.YELLOW?s:i,d)},e=>{let{aspectRatio:t}=e;return t&&(0,c.iv)(_templateObject3(),t)},e=>{let{$fill:t}=e;return t&&(0,c.iv)(_templateObject4())},e=>{let{borderRadius:t}=e;return t&&(0,c.iv)(_templateObject5(),t)}),useImageLoaded=()=>{let e=(0,n.useRef)(null),[t,o]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{var t;(null==e?void 0:null===(t=e.current)||void 0===t?void 0:t.complete)&&o(!0)},[]),{imgRef:e,isImageLoaded:t,setIsImageLoaded:o}},N=(0,n.forwardRef)((e,t)=>{let{borderRadius:o,disablePlaceholder:r,fill:u,height:c,highPriority:d,isAriaHidden:N=!1,lazyLoading:b=!0,placeholderVariant:O=p.x.YELLOW,staticImage:y,width:T,withAspectRatio:S,caption:h,...v}=e,{imgRef:g,isImageLoaded:E,setIsImageLoaded:I}=useImageLoaded(),C=(0,n.useCallback)(()=>S&&(null==v?void 0:v.data)?(0,i.qH)(v):S&&y?+((T||1)/(c||1)).toFixed(2):null,[v,y]);if(!(null==v?void 0:v.data)&&!y)return null;let L=y||(0,s.II)(v);return(0,a.jsxs)(a.Fragment,{children:[d&&(0,a.jsx)(l(),{children:(0,a.jsx)("link",{rel:"preload",as:"image",imageSrcSet:null==L?void 0:L.srcSet})}),(0,a.jsxs)(f,{children:[(0,a.jsx)(m,{...L,aspectRatio:C(),borderRadius:o,fetchPriority:d?"high":"auto",$fill:u,height:c,"aria-hidden":N,loading:b?"lazy":"eager",onLoad:()=>I(!0),ref:e=>{g&&(g.current=e),t&&"object"==typeof t&&(t.current=e)},showPlaceholder:!r&&!E,placeholderVariant:O,width:T}),!!h&&(0,a.jsx)("figcaption",{children:h})]})]})})}}]);
//# sourceMappingURL=7695-a21d67a1194e5c58.js.map